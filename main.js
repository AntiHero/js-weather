(()=>{"use strict";var e={138:(e,t,n)=>{async function r(e){const t=document.querySelector(".weather");t.innerHTML="";const n=document.createElement("p");n.innerText=`Showing weather for ${e.name}`,t.appendChild(n);const r=document.createElement("p");r.innerText=`Current weather is ${e.main.temp} degrees of Celcium`,t.appendChild(r);const a=document.createElement("img"),c=e.weather[0].icon;a.src=`https://openweathermap.org/img/wn/${c}@2x.png`,t.appendChild(a),document.querySelector("#favicon").href=`https://openweathermap.org/img/wn/${c}@2x.png`;const o=document.querySelector(".map");o.innerHTML="";const i=document.createElement("img");i.src=`https://static-maps.yandex.ru/1.x/?ll=${e.coord.lon},${e.coord.lat}&size=450,450&z=11&l=map`,o.appendChild(i)}async function a(e){let t=`https://api.openweathermap.org/data/2.5/weather?units=metric&q=${e}&appid=458b6f24d9bec1db57c2f337dc35dbcc`,n=await fetch(t);return await n.json()}!async function(){const e=await async function(){let e="https://get.geojs.io/v1/ip/geo.json",t=await fetch(e),n=await t.json();return e=`https://api.openweathermap.org/data/2.5/weather?units=metric&lat=${n.latitude}&lon=${n.longitude}&appid=458b6f24d9bec1db57c2f337dc35dbcc`,t=await fetch(e),n=await t.json(),n}();await r(e),document.querySelector("#submit").addEventListener("click",(async()=>{const e=document.querySelector(".city"),t=await a(e.value);await r(t),function(e){const t=document.querySelector(".history"),n=t.querySelectorAll("p");let c=!1;if(n.forEach((t=>{t.innerText!==e||(c=!0)})),c)return;const o=document.createElement("p");o.innerText=e,o.addEventListener("click",(async function(){const e=await a(this.innerText);await r(e)})),t.insertBefore(o,n[0]),n.length>10&&n[n.length-1].remove()}(e.value)}))}()}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(138)})();